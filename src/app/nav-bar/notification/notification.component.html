<button
  mat-icon-button
  [matMenuTriggerFor]="beforeMenu"
  (click)="updatenewnotification()"
>
  <mat-icon
    *ngIf="newnotification"
    matBadge="{{ newnotification }}"
    matBadgeColor="warn"
    >notifications</mat-icon
  >
  <mat-icon *ngIf="!newnotification">notifications</mat-icon>
</button>
<mat-menu #beforeMenu="matMenu" xPosition="before" class="my-menu">
  <button
    class="notification"
    [class.read]="notification.isread"
    [class.unread]="!notification.isread"
    (click)="notification.isread = false"
    mat-menu-item
    *ngFor="let notification of notifications.slice().reverse()"
    (click)="markasread($event,notification)"
  >
    <div class="flex-row">
      <mat-icon class="color-icon" *ngIf="!notification.isread">fiber_manual_record</mat-icon>
      <div class="width-100">
        <div class="width-100">
          {{ notification.message }}
        </div>
        <div class="show-time width-100">
          {{ notification.createdon }}
        </div>
      </div>
    </div>
  </button>
  <button
    mat-stroked-button
    color="primary"
    (click)="markallasread($event)"
    class="read-btn"
  >
    mark all as read
  </button>
</mat-menu>
